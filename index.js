import{S as w,a as R,i as a}from"./assets/vendor-DXKtl-Fy.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();const p=document.querySelector(".load-more"),h=document.querySelector(".loader"),m=document.querySelector(".gallery"),P=new w(".gallery a",{});function y(o){const t=o.map(S).join("");m.insertAdjacentHTML("beforeend",t),o.length>0&&P.refresh()}function f(){m.innerHTML=""}function g(){h.classList.remove("visually-hidden")}function L(){h.classList.add("visually-hidden")}function S({webformatURL:o,largeImageURL:t,tags:i,likes:s,views:e,comments:r,downloads:n}){return`
    <li class="gallery-item">
      <a href="${t}">
        <img src="${o}" alt="${i}" loading="lazy">
      </a>
      <ul class="meta">
        <li><p>Likes</p><span>${s??0}</span></li>
        <li><p>Views</p><span>${e??0}</span></li>
        <li><p>Comments</p><span>${r??0}</span></li>
        <li><p>Downloads</p><span>${n??0}</span></li>
      </ul>
    </li>`}function q(){p.classList.remove("visually-hidden")}function c(){p.classList.add("visually-hidden")}const E=R.create({baseURL:"https://pixabay.com/api/",timeout:5e3}),M="52280453-e49fee1d7ac9fb337b56d8047";async function v(o,t){const i={key:M,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:t};try{return(await E.get("",{params:i})).data}catch(s){return a.error({title:"Error",message:"Failed to fetch images. Please try again later.",position:"topRight"}),console.error("Pixabay API error:",s),{hits:[],totalHits:0}}}const b=document.querySelector(".form"),$=document.querySelector(".load-more");let u="",l=1,d=0;b.addEventListener("submit",B);$.addEventListener("click",H);async function B(o){if(o.preventDefault(),c(),u=o.currentTarget.elements["search-text"].value.trim(),l=1,!u)return f(),b.reset(),a.error({title:"Error",message:"Please enter a search term!",position:"topRight"});f(),c(),g();const t=await v(u,l);if(L(),t.hits.length===0)return a.info({title:"No Results",message:"No images found. Try another keyword.",position:"topRight"});d=t.totalHits,y(t.hits),t.hits.length===15&&d>15?q():(c(),a.info({title:"End of Results",message:"You've reached the end of search results.",position:"topRight"}))}async function H(){l+=1,g();const o=await v(u,l);L(),y(o.hits),O();const t=Math.ceil(d/15);l>=t&&(c(),a.info({title:"End of Results",message:"We're sorry, but you've reached the end of search results.",position:"topRight"}))}function O(){const{height:o}=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:o*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
